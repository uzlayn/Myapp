<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mini TikTok — Mini App</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- ВЕРХ: админская иконка (показывается только если текущий user.id === ADMIN_ID) -->
  <div id="adminIcon" class="admin-icon" title="Админ панель" aria-hidden="true" style="display:none">
    <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
  </div>

  <!-- Видео плеер -->
  <video id="video" autoplay muted playsinline></video>
  <div id="ui-overlay">
    <div id="videoTitle">Загрузка...</div>
    <div class="side-buttons" role="toolbar" aria-label="действия">
      <button id="likeBtn" class="icon-btn like" aria-label="Лайк">❤</button>
      <button id="shareBtn" class="icon-btn" aria-label="Переслать">↗</button>
      <button id="addVideoBtn" class="icon-btn" aria-label="Добавить видео">➕</button>
    </div>
    <button id="watchBtn" class="bottom-btn">Смотреть полностью</button>
  </div>

  <!-- Модалки -->
  <div id="paidAddModal" class="modal" role="dialog" aria-modal="true">
    <div class="modal-content">
      <h2>Добавление видео — платная услуга</h2>
      <p>Чтобы добавить видео в этот мини-приложение, требуется подписка. Свяжитесь с администратором:</p>
      <button id="contactAdminBtn" class="cta">Связаться с админом</button>
      <button id="closePaidModal" class="btn-secondary">Закрыть</button>
    </div>
  </div>

  <div id="addVideoModal" class="modal" role="dialog" aria-modal="true">
    <div class="modal-content">
      <h2>Добавить видео</h2>
      <input id="videoFileInput" type="file" accept="video/*" />
      <input id="coverFileInput" type="file" accept="image/*" />
      <input id="videoNameInput" type="text" placeholder="Название видео" />
      <input id="buttonNameInput" type="text" placeholder="Текст на нижней кнопке" />
      <input id="buttonLinkInput" type="url" placeholder="Ссылка для кнопки (https://...)" />
      <button id="publishVideoBtn" class="cta">Отправить на модерацию</button>
      <button id="closeAddModal" class="btn-secondary">Отмена</button>
    </div>
  </div>

  <!-- Админка -->
  <div id="adminModal" class="modal" role="dialog" aria-modal="true">
    <div class="modal-content">
      <h2>Админ панель</h2>
      <div id="usersList"></div>
      <button id="closeAdminModal" class="btn-secondary">Закрыть</button>
    </div>
  </div>


  <script src="script.js"></script>
</body>
</html>
